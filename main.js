(()=>{"use strict";const e=(()=>{let e=[],n=["View All","General"],d="View All";const o=n=>{t.clearTaskDisplay(),t.updateGroupHeader(n),"View All"==n?e.forEach(((e,n)=>{t.addTask(e,n)})):e.forEach(((e,d)=>{e.group==n&&t.addTask(e,d)}))};return{addTask:()=>{const n=t.getTaskForm(event);e.push({task:n.task,description:n.description,group:n.group,dueDate:n.dueDate,priority:n.priority,isComplete:!1,expandDescription:!1}),d!==n.group?(d="View All",o(d)):o(d)},markTaskComplete:n=>{const d=n.target.parentElement.parentElement.parentElement.id;e[d].isComplete?e[d].isComplete=!1:e[d].isComplete=!0,t.markTaskComplete(d,e[d].priority)},deleteTask:n=>{const d=n.target.parentElement.parentElement.parentElement.id;e.splice(d,1,""),t.deleteElement(d)},addGroup:()=>{const e=t.getGroupForm(event);n.includes(e)?alert("This group already exists"):(n.push(e),t.addGroup(e,n.length-1))},deleteGroup:d=>{const o=d.target.parentElement.parentElement.id,i=n.indexOf(o);t.deleteElement(o),n.splice(i,1,""),t.deleteElement(o),e.forEach(((n,d)=>{n.group==o&&(e.splice(d,1,""),t.deleteElement(d))}))},displayGroup:o,currentGroup:d,getGroupName:()=>{const e=event.target.id;d=e,o(e)},displayDescription:()=>{const n=event.target.parentElement.parentElement.parentElement.id;console.log(n);const d=e[n];d.expandDescription?(t.hideDescription(n,d),d.expandDescription=!1):(t.expandDescription(n,d),d.expandDescription=!0)}}})(),t=(()=>{const t=(e,t,n)=>{const d=document.createElement("div");d.setAttribute("class",e),d.innerHTML=n,t.appendChild(d)},n=e=>{document.getElementById("todo-header").innerText=e};return document.getElementById("close-btn").addEventListener("click",(()=>document.getElementById("myForm").style.display="none")),document.getElementById("open-btn").addEventListener("click",(()=>document.getElementById("myForm").style.display="block")),document.getElementById("View All").addEventListener("click",e.getGroupName),document.getElementById("General").addEventListener("click",e.getGroupName),document.getElementById("add-task-form").addEventListener("submit",e.addTask),document.getElementById("new-group-form").addEventListener("submit",e.addGroup),n(e.currentGroup),{getTaskForm:e=>{const t=document.getElementById("task").value,n=document.getElementById("description").value,d=document.getElementById("group").value,o=document.getElementById("due-date").value;let i="";return i=document.getElementById("priority-high").checked?"high":document.getElementById("priority-medium").checked?"medium":"low",e.preventDefault(),{task:t,description:n,group:d,dueDate:o,priority:i}},addTask:(n,d)=>{const o=document.getElementById("todo-list-content"),i=document.createElement("div");i.setAttribute("class",`todo-item-${n.priority}`),i.setAttribute("id",d),o.appendChild(i);const r=document.createElement("div");r.setAttribute("class","todo-item-display"),i.appendChild(r);const s=document.createElement("button");s.setAttribute("class","side-bar-btn task-button main-color"),r.appendChild(s);const c=document.createElement("IMG");c.setAttribute("id",`expand${d}`),c.setAttribute("src","./expand_more_white_24dp.svg"),c.addEventListener("click",e.displayDescription),s.appendChild(c);const l=document.createElement("div");l.setAttribute("class","todo-item-container"),r.appendChild(l),t("todo-item-title",l,n.task),t("todo-item-group",l,n.group),t("todo-item-dueDate",l,n.dueDate);const a=document.createElement("button");a.setAttribute("class","side-bar-btn task-button main-color"),r.appendChild(a);const m=document.createElement("IMG");m.setAttribute("src","./done_white_24dp.svg"),m.addEventListener("click",e.markTaskComplete),a.appendChild(m);const p=document.createElement("button");p.setAttribute("class","side-bar-btn task-button main-color"),r.appendChild(p);const u=document.createElement("IMG");u.setAttribute("src","./delete_white_24dp.svg"),u.addEventListener("click",e.deleteTask),p.appendChild(u)},markTaskComplete:(e,t)=>{const n=document.getElementById(e);n.getAttribute("class")==`todo-item-${t}`?n.setAttribute("class","todo-item-complete"):n.setAttribute("class",`todo-item-${t}`)},deleteElement:e=>{document.getElementById(e).remove()},getGroupForm:e=>{const t=document.getElementById("new-group").value;return e.preventDefault(),t},addGroup:(t,n)=>{const d=document.getElementById("group-list"),o=document.createElement("div");o.setAttribute("class","side-bar-field"),o.setAttribute("id",t),d.appendChild(o);const i=document.createElement("button");i.setAttribute("class","side-bar-btn accent-color"),i.innerHTML=t,i.setAttribute("id",t),i.addEventListener("click",e.getGroupName),o.appendChild(i);const r=document.createElement("button");r.setAttribute("class","new-group-btn "),o.appendChild(r);const s=document.createElement("IMG");s.setAttribute("src","./clear_white_24dp.svg"),s.addEventListener("click",e.deleteGroup),r.appendChild(s);const c=document.getElementById("group"),l=document.createElement("option");l.setAttribute("value",t),l.setAttribute("id",t),l.text=t,c.appendChild(l)},clearTaskDisplay:()=>{document.getElementById("todo-list-content").remove();const e=document.createElement("div");e.setAttribute("id","todo-list-content"),e.setAttribute("class","todo-list"),document.getElementById("todo-list").appendChild(e)},updateGroupHeader:n,expandDescription:(e,t)=>{document.getElementById(`expand${e}`).setAttribute("src","./expand_less_white_24dp.svg");const n=document.getElementById(e),d=document.createElement("div");d.setAttribute("class","todo-item-description"),d.setAttribute("id",`description-${t.id}`),d.innerText=t.description,n.appendChild(d)},hideDescription:(e,t)=>{document.getElementById(`description-${t.id}`).remove(),document.getElementById(`expand${e}`).setAttribute("src","./expand_more_white_24dp.svg")}}})()})();